<div class="title">
  <h2>COMUNIDAD</h2>
</div>

<!-- Card para crear una nueva publicación -->
<div class="card">
  <div class="cabeza">
    <img src="logoJS.png" alt="icono-logo" width="100" height="100">
    <div class="nuevo">
      <img src="usuario.png" alt="icono-usuario" width="60" height="60">
      <!-- Formulario para crear publicación -->
      <form [formGroup]="publicationForm" (ngSubmit)="onCreatePublication(1)"> <!-- ID de usuario fijo (1) -->
        <input type="text" formControlName="title" placeholder="¿Qué estás pensando?">
        <textarea formControlName="content" placeholder="Escribe el contenido aquí"></textarea>
        <input type="file" (change)="onFileSelected($event)" accept="image/*,video/*">
        <button type="submit">Publicar</button>
      </form>
    </div>
  </div>
</div>

<!-- Lista de publicaciones -->
<div *ngFor="let pub of publications" class="publicacion">
  <div class="eliminar">
    <div class="principal">
      <img src="usuario.png" alt="icono-usuario" width="60" height="60">
      <h3>{{ pub.name }}</h3>
    </div>
    <img
      src="eliminar.png"
      alt="icono-eliminar"
      (click)="onDeletePublication(pub.id_author, pub.id)"
      style="cursor: pointer;">
  </div>
  <div class="contenido">
    <h3>{{ pub.description }}</h3>
    <!-- Mostrar la imagen/video si existe -->
    <img *ngIf="pub.media" [src]="'data:image/jpeg;base64,' + pub.media" alt="imagen-publicacion">
    <video *ngIf="pub.media && pub.mediaType === 'video'" controls>
      <source [src]="'data:video/mp4;base64,' + pub.media" type="video/mp4">
    </video>
    <img src="me-gusta.png" alt="icono-me-gusta">
  </div>
</div>
